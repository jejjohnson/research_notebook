

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>SSH Configuration &#8212; Research Notebook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/tutorials/remote/ssh';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Conda 4 Remote Servers" href="conda.html" />
    <link rel="prev" title="Remote Computing" href="overview.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/book_v2.jpeg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../../_static/book_v2.jpeg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    Overview
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../resources/python/overview.html">Python</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../resources/python/ides.html">Integraded Development Environment (IDE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/python/stack.html">Standard Python Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/python/earthsci_stack.html">Earth Science Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/python/dl_stack.html">Deep Learning Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/python/scale_stack.html">Scaling Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/python/good_code.html">Good Code</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../jax_journey/overview.html">My JAX Journey</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../jax_journey/ecosystem.html">Ecosystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jax_journey/vmap.html">vmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jax_journey/jit.html">Jit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jax_journey/classes.html">Classes</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../jax_journey/algorithms/overview.html">Algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../jax_journey/algorithms/bisection.html">Bisection search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jax_journey/algorithms/kernel_derivatives.html">Kernel Derivatives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jax_journey/gfs_with_jax.html">Gaussianization Flows</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../twelve_steps_ns/overview.html">12 Steps to Navier-Stokes</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../twelve_steps_ns/1.1_linear_advection.html">1D Linear Convection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="overview.html">Remote Computing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">SSH Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="conda.html">Conda 4 Remote Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="jlab.html">Jupyter Lab 4 Remote Servers</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Notes</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/gmt/overview.html">GMT of Learning</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/gmt/hierarchical_rep.html">Hierarchical Representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/gmt/functa.html">Functa</a></li>








<li class="toctree-l2"><a class="reference internal" href="../../notes/gmt/discretize_space.html">Spatial Discretization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/gmt/discretize_time.html">Temporal Discretization</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../notes/gmt/learning.html">Learning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../notes/concepts/uncertainty.html">Modeling Uncertainty</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/bayesian/overview.html">Bayesian</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/bayesian/intro.html">Language of Uncertainty</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/bayesian/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/bayesian/inference.html">Inference Schemes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/bayesian/inference/variational_inference.html">Variational Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/bayesian/inference/cond_vi.html">Conditional Variational Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/bayesian/confidence_intervals.html">Confidence Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/bayesian/regression.html">Regression</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/concepts/overview.html">Sleeper Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/concepts/gaussian.html">Gaussian Distributions</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../notes/concepts/change_of_variables.html">Change of Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/concepts/identity_trick.html">Identity Trick</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/concepts/inverse_function.html">Inverse Function Theorem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/concepts/jensens.html">Jensens Inequality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/concepts/lin_alg.html">Linear Algebra Tricks</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/kernels/overview.html">Kernel Methods</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/kernels/kernel_derivatives.html">Kernel Derivatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/kernels/rv.html">RV Coefficient</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/kernels/congruence_coeff.html">Congruence Coefficient</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/kernels/hsic.html">HSIC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/kernels/mmd.html">Maximum Mean Discrepancy (MMD)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/gps/intro.html">Gaussian Processes</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/gps/gps.html">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/gps/literature.html">Literature Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/gps/cg.html">Conjugate Gradients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/gps/sgps.html">Sparse Gaussian Processes</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../notes/gps/algorithms.html">Algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../notes/gps/gpr_code.html">GP from Scratch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/gps/sgp_code.html">Sparse GP From Scratch</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/egps/overview.html">Input Uncertainty in GPs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../notes/info_theory/similarity.html">Similarity</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/info_theory/overview.html">Information Theory</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../notes/info_theory/measures.html">Measures</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../notes/info_theory/information.html">Information Theory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/info_theory/entropy.html">Entropy &amp; Relative Entropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/info_theory/mutual_info.html">Mutual Information and Total Correlation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../notes/info_theory/estimators.html">Information Theory Measures</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../notes/info_theory/classic.html">Classic Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/info_theory/histogram.html">Entropy Estimator - Histogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/info_theory/experiments/rbig_sample_consistency.html">Experiment - RBIG Sample Consistency</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/normalizing_flows/overview.html">Normalizing Flows</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/normalizing_flows/linear.html">Linear Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/normalizing_flows/coupling_layers.html">Coupling Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/normalizing_flows/conditional.html">Conditional Normalizing Flows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/normalizing_flows/multiscale.html">Multiscale</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/normalizing_flows/inverse.html">Minimization Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/normalizing_flows/losses.html">Losses</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../notes/normalizing_flows/lecture_1_ig.html">Lecture I - Iterative Gaussianization</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../notes/normalizing_flows/1.0_univariate_gauss.html">1.1 - Univariate Gaussianization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/normalizing_flows/1.1_marginal_gauss.html">1.2 - Marginal Gaussianization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/normalizing_flows/1.2_gaussianization.html">1.2 - Iterative Gaussianization</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../notes/normalizing_flows/lecture_2_gf.html">Lecture II - Gaussianization Flows</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../notes/normalizing_flows/lecture_3_gfs_pt1_mg.html">Parameterized Marginal Gaussianization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/normalizing_flows/lecture_3_gfs_pt2_rot.html">Parameterized Rotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/normalizing_flows/lecture_3_gfs_pt3_plane.html">Example - 2D Plane</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/nerfs/overview.html">Neural Fields</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/nerfs/formulation.html">Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/nerfs/literature_review.html">Literature Review</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../notes/nerfs/pinns.html">Physics-Informed Loss</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/data_assimilation/overview.html">Data Assimilation</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/data_assimilation/dynamical_sys.html">Dynamical Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/data_assimilation/oi.html">Optimal Interpolation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/data_assimilation/interp.html">Interpolation Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/data_assimilation/emu.html">Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/data_assimilation/inv_problems.html">Inverse Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/data_assimilation/projects.html">Projects</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../notes/data_assimilation/algorithms.html">Algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../notes/data_assimilation/markov_models.html">Markov Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/data_assimilation/gauss_markov.html">Gauss-Markov Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/data_assimilation/kf.html">Kalman Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/data_assimilation/nkf.html">Normalizing Kalman Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/data_assimilation/enskf.html">Ensemble Kalman Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/data_assimilation/dmm.html">Deep Markov Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/data_assimilation/4dvarnet.html">4DVarNet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../notes/data_assimilation/markov_gp.html">Markovian Gaussian Processes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../notes/data_assimilation/nbs/notebooks.html">Notebooks</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../notes/misc/overview.html">Miscellaneous Notes</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notes/misc/generative_models.html">Generative Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/misc/diffusion_models.html">Diffusion Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/misc/fixed_point.html">Fixed-Point Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/misc/bilevel_opt.html">Bi-Level Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/misc/diff_operators.html">Differential Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notes/misc/qg.html">QG Formulations</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../notes/misc/elliptical_pde_solver.html">Elliptical PDE Solvers</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Cheat Sheets</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../cheatsheets/bash.html">Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheatsheets/cli.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheatsheets/python.html">Python</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jejjohnson/research_notebook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jejjohnson/research_notebook/issues/new?title=Issue%20on%20page%20%2Fcontent/tutorials/remote/ssh.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/content/tutorials/remote/ssh.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>SSH Configuration</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#table-of-conents">Table of Conents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ssh">SSH</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identityfile">IdentityFile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#port-forwarding">Port Forwarding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#background-ssh-tunneling">Background SSH Tunneling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#closing-background-ssh-tunnels">Closing Background SSH Tunnels</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-users-bash-script">Advanced Users - Bash Script</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ssh-process-background">SSH Process Background</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#closing-ports">Closing Ports</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ssh-config-file">SSH Config File</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#remote-server-cal1">Remote Server (Cal1)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#important-arguments">Important Arguments</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><code class="docutils literal notranslate"><span class="pre">IdentityFile</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#forwardx11"><code class="docutils literal notranslate"><span class="pre">ForwardX11</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#localforward"><code class="docutils literal notranslate"><span class="pre">LocalForward</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#remote-server-proxyjump">Remote Server + ProxyJump</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proxyjump"><code class="docutils literal notranslate"><span class="pre">ProxyJump</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-gricad">Example: <code class="docutils literal notranslate"><span class="pre">Gricad</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-jeanzay">Example: <code class="docutils literal notranslate"><span class="pre">JeanZay</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#internal-ssh-key">Internal SSH Key</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="ssh-configuration">
<h1>SSH Configuration<a class="headerlink" href="#ssh-configuration" title="Permalink to this heading">#</a></h1>
<hr class="docutils" />
<p>We will go over 2 cases:</p>
<ol class="arabic simple">
<li><p>Remote Server</p></li>
<li><p>Remote Server with a ProxyJump</p></li>
</ol>
<hr class="docutils" />
<section id="table-of-conents">
<h2>Table of Conents<a class="headerlink" href="#table-of-conents" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><span class="xref myst">Table of Conents</span></p></li>
<li><p><span class="xref myst">SSH</span></p>
<ul>
<li><p><span class="xref myst">IdentityFile</span></p></li>
<li><p><span class="xref myst">Port Forwarding</span></p></li>
<li><p><span class="xref myst">Background SSH Tunneling</span></p></li>
<li><p><span class="xref myst">Closing Background SSH Tunnels</span></p></li>
<li><p><span class="xref myst">Advanced Users - Bash Script</span></p>
<ul>
<li><p><span class="xref myst">SSH Process Background</span></p></li>
<li><p><span class="xref myst">Closing Ports</span></p></li>
</ul>
</li>
</ul>
</li>
<li><p><span class="xref myst">SSH Config File</span></p></li>
<li><p><span class="xref myst">Remote Server (Cal1)</span></p>
<ul>
<li><p><span class="xref myst">Important Arguments</span></p>
<ul>
<li><p><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">IdentityFile</span></code></span></p></li>
<li><p><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">ForwardX11</span></code></span></p></li>
<li><p><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">LocalForward</span></code></span></p></li>
</ul>
</li>
</ul>
</li>
<li><p><span class="xref myst">Remote Server + ProxyJump</span></p>
<ul>
<li><p><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">ProxyJump</span></code></span></p></li>
<li><p><span class="xref myst">Example: <code class="docutils literal notranslate"><span class="pre">Gricad</span></code></span></p></li>
<li><p><span class="xref myst">Example: <code class="docutils literal notranslate"><span class="pre">JeanZay</span></code></span></p></li>
<li><p><span class="xref myst">Internal SSH Key</span></p></li>
</ul>
</li>
</ul>
</section>
<hr class="docutils" />
<section id="ssh">
<h2>SSH<a class="headerlink" href="#ssh" title="Permalink to this heading">#</a></h2>
<p>The simplest thing to do would be to just ssh into the remote server. You just need a username and server.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>username@server
</pre></div>
</div>
<p>This should work with your password. However, there are some essential things missing that we will need in order to use more features. Some include:</p>
<ul class="simple">
<li><p>Permissions - no more passwords + more security</p></li>
<li><p>Tunneling - to be able to see applications that are hosted on the server</p></li>
<li><p>Proxy Jumping - to be able to ssh into a remote server on a remote server</p></li>
</ul>
<p>The remainder of this section will talk about the extra flags we need to in order to accomplish this.</p>
<hr class="docutils" />
<section id="identityfile">
<h3>IdentityFile<a class="headerlink" href="#identityfile" title="Permalink to this heading">#</a></h3>
<p>This is important so we don’t have to keep typing import our password all of the time… This can be alleviated with an ssh key. We can generate this with <code class="docutils literal notranslate"><span class="pre">ssh-keygen</span></code> and then copy it over to the remote server using <code class="docutils literal notranslate"><span class="pre">ssh-copy-id</span></code>.</p>
<p>Please see the detailed <a class="reference external" href="https://www.ssh.com/academy/ssh/keygen"><strong>Instructions</strong></a> for how to use <code class="docutils literal notranslate"><span class="pre">ssh-keygen</span></code> to generate a new SSH key <strong>and</strong> copy it over to your remote server. Below are some brief instructions for how to do it.</p>
<p><strong>Step 1</strong>: Generate the Key</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh-keygen<span class="w"> </span>-t<span class="w"> </span>rsa<span class="w"> </span>-b<span class="w"> </span><span class="m">4096</span><span class="w"> </span>-f<span class="w"> </span>/path/to/id_key
</pre></div>
</div>
<p><strong>Step 2</strong>: Forward Key to remote server. You will have to enter your password once - and then never again :).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh-copy-id<span class="w"> </span>-i<span class="w"> </span>/path/to/id_key<span class="w"> </span>username@server
</pre></div>
</div>
<p>Now we should be able to log in with a specified key and we won’t have to enter our password.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>username@server<span class="w"> </span>-i<span class="w"> </span>/path/to/id_key_file
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="port-forwarding">
<h3>Port Forwarding<a class="headerlink" href="#port-forwarding" title="Permalink to this heading">#</a></h3>
<p>We need to create a tunnel especially if we have applications running on the remote server and we want access to the content. This can be done using the <code class="docutils literal notranslate"><span class="pre">-L</span></code> flag along with the appropriate ports.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>username@server<span class="w"> </span>-L<span class="w"> </span><span class="m">8888</span>:localhost:8888
</pre></div>
</div>
<p><strong>Note</strong>: You may have to change the port number from <code class="docutils literal notranslate"><span class="pre">8888</span></code> to something else.</p>
<p>Check this <a class="reference external" href="https://bytexd.com/what-is-ssh-tunneling-and-how-does-it-work/">blog</a> for details about how <strong>port forwarding</strong> (ssh-tunneling) works.</p>
</section>
<hr class="docutils" />
<section id="background-ssh-tunneling">
<h3>Background SSH Tunneling<a class="headerlink" href="#background-ssh-tunneling" title="Permalink to this heading">#</a></h3>
<p>Often times we don’t want to have the connection open occupying our terminal. So we can put it in the background where we don’t need to worry about it. This can be done with the <code class="docutils literal notranslate"><span class="pre">-f</span></code> to ensure that it is executed but stays in the background.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a tunnel</span>
ssh<span class="w"> </span>-fN<span class="w"> </span>username@server<span class="w"> </span>-L<span class="w"> </span><span class="m">8888</span>:localhost:8888<span class="w"> </span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="closing-background-ssh-tunnels">
<h3>Closing Background SSH Tunnels<a class="headerlink" href="#closing-background-ssh-tunnels" title="Permalink to this heading">#</a></h3>
<p>When you’re done, it’s good practice to make sure you close the ssh-tunnel that you opened. Below, I have some steps to do this in a relatively efficient way. It is a bit tedious to type everything out from scratch but later we can automate this so that we don’t have to keep typing in all of the commands. First we need to find all of the background processes that have an ssh.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;localhost&quot;</span>
</pre></div>
</div>
<p>We can narrow the search to only those that have a local host attached.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;8888:localhost:8888&quot;</span>
</pre></div>
</div>
<p>Then we can kill the process assigned here</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># kill that process manually by looking</span>
<span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span>PID
<span class="c1"># kill all processes with localhost</span>
ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;localhost&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span><span class="nb">kill</span>
<span class="c1"># kill a specific one</span>
ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;8888:localhost:8888&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span><span class="nb">kill</span>
</pre></div>
</div>
<p>These commands are a cumbersome but they get the job done. I would strongly suggest you continue to the next section and try to use some of the scripts in your own workflow. It will make for a much more pleasant experience.</p>
</section>
<hr class="docutils" />
<section id="advanced-users-bash-script">
<h3>Advanced Users - Bash Script<a class="headerlink" href="#advanced-users-bash-script" title="Permalink to this heading">#</a></h3>
<p>We want to automate a few of the things listed above. It’s too much to type all of that every time. In particular, we will automate:</p>
<ul class="simple">
<li><p>Opening up the SSH and Tunneling in the background</p></li>
<li><p>Closing specific and all background ports</p></li>
</ul>
<section id="ssh-process-background">
<h4>SSH Process Background<a class="headerlink" href="#ssh-process-background" title="Permalink to this heading">#</a></h4>
<p>We want to automate the ssh tunnel process in the background.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># syntatic sugar for launching ssh tunnel given a server and a port</span>
<span class="k">function</span><span class="w"> </span>ssh_tunnel_bg<span class="o">(){</span>
<span class="w">    </span><span class="nv">server</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">port</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;server:&quot;</span><span class="w"> </span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;port:&quot;</span><span class="w"> </span><span class="nv">$2</span>
<span class="w">    </span>ssh<span class="w"> </span>-fN<span class="w"> </span><span class="nv">$server</span><span class="w"> </span>-L<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$port</span><span class="s2">&quot;</span>:localhost:<span class="s2">&quot;</span><span class="nv">$port</span><span class="s2">&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>Demo Usage</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh_tunnel_bg<span class="w"> </span><span class="m">8888</span><span class="w"> </span>meom_cal1
</pre></div>
</div>
<p><strong>Much simpler</strong> and we don’t have to remember all of the commands. It is a bit of <em>syntatic sugar</em> but it’s more understandable.</p>
</section>
<section id="closing-ports">
<h4>Closing Ports<a class="headerlink" href="#closing-ports" title="Permalink to this heading">#</a></h4>
<p>Now we want to automate the removal of ports. I would suggest adding these functions to your <code class="docutils literal notranslate"><span class="pre">.profile</span></code> or <code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> so that you can just use these easier to find and kill ssh background processes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># function to show all background ssh processes</span>
<span class="c1"># demo:</span>
<span class="c1"># &gt; show_all_bg_ssh</span>
<span class="c1">#</span>
<span class="k">function</span><span class="w"> </span>show_all_bg_ssh<span class="o">(){</span>
<span class="w">    </span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;localhost&quot;</span>
<span class="o">}</span>
<span class="c1"># function to show background ssh processes given a localport</span>
<span class="c1"># demo:</span>
<span class="c1"># &gt; show_bg_ssh 8888</span>
<span class="c1">#</span>
<span class="k">function</span><span class="w"> </span>show_bg_ssh<span class="o">(){</span>
<span class="w">    </span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="nv">$1</span>
<span class="o">}</span>

<span class="c1"># function to kill background ssh process given a localport number</span>
<span class="c1"># demo:</span>
<span class="c1"># &gt; kill_bg_ssh 8888</span>
<span class="c1">#</span>
<span class="k">function</span><span class="w"> </span>kill_bg_ssh<span class="o">(){</span>
<span class="w">    </span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span><span class="nb">kill</span>
<span class="o">}</span>

<span class="c1"># function to kill all background ssh processes</span>
<span class="c1"># demo:</span>
<span class="c1"># &gt; kill_all_bg_ssh</span>
<span class="c1">#</span>
<span class="k">function</span><span class="w"> </span>kill_all_bg_ssh<span class="o">(){</span>
<span class="w">    </span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;localhost&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span><span class="nb">kill</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>Demo Usage</strong>: Kill a Specific Port</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># find the background process</span>
show_bg_sh<span class="w"> </span><span class="m">8888</span>

<span class="c1"># kill the background process</span>
kill_bg_sh<span class="w"> </span><span class="m">8888</span>
</pre></div>
</div>
<p><strong>Demo Usage</strong>: Kill Everything</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># find the background process</span>
show_all_bg_sh

<span class="c1"># kill the background process</span>
kill_all_bg_sh
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="ssh-config-file">
<h2>SSH Config File<a class="headerlink" href="#ssh-config-file" title="Permalink to this heading">#</a></h2>
<p>It ups your game to the next level if you use an ssh config file.</p>
<p>More resources:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://gricad-doc.univ-grenoble-alpes.fr/en/hpc/connexion/">Gricad Docs</a></p></li>
<li><p><a class="reference external" href="https://linuxize.com/post/using-the-ssh-config-file/">Blog</a> - Using the SSH Config File</p></li>
</ul>
<p>We typically store this here:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/home/user/.ssh/config
</pre></div>
</div>
<p>where it’s visible from anywhere in on your computer.</p>
</section>
<hr class="docutils" />
<section id="remote-server-cal1">
<h2>Remote Server (Cal1)<a class="headerlink" href="#remote-server-cal1" title="Permalink to this heading">#</a></h2>
<p>In this example, we will showcase how to automate the connection to</p>
<p>We can automate this using using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Host<span class="w"> </span>cal1
<span class="w">    </span>HostName<span class="w"> </span>ige-meom-cal1.u-ga.fr
<span class="w">	</span>User<span class="w"> </span>username
<span class="w">	</span><span class="c1"># Allow for Ids</span>
<span class="w">	</span>ForwardX11<span class="w"> </span>yes
<span class="w">	</span><span class="c1"># SSH Identity File</span>
<span class="w">	</span>IdentityFile<span class="w"> </span>~/.ssh/id_key_file
<span class="w">	</span><span class="c1"># Jupyter Notebooks</span>
<span class="w">	</span>LocalForward<span class="w"> </span><span class="m">8888</span><span class="w"> </span>localhost:8888

Host<span class="w"> </span>*
<span class="w">  </span>AddKeysToAgent<span class="w"> </span>yes
<span class="w">  </span>UseKeychain<span class="w"> </span>yes
<span class="w">  </span>IdentityFile<span class="w"> </span>~/.ssh/id_key_file
</pre></div>
</div>
<p><strong>Demo Usage</strong>:</p>
<p>Test the connection to <code class="docutils literal notranslate"><span class="pre">cal1</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>cal1
</pre></div>
</div>
<p>Now it is much easier to ssh into the remote server without having to do all of the extra stuff.</p>
<hr class="docutils" />
<section id="important-arguments">
<h3>Important Arguments<a class="headerlink" href="#important-arguments" title="Permalink to this heading">#</a></h3>
<p>There are many important arguments that make our lives a lot easier if they are defined properly.</p>
<section id="id1">
<h4><code class="docutils literal notranslate"><span class="pre">IdentityFile</span></code><a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h4>
<p>This will point to the <code class="docutils literal notranslate"><span class="pre">identity_file</span></code> found in your local server. This removes the need to authenticate every time you log in. It’s hard to remember passwords all of the time so this removes that necessity. It’s also more secure due to the encryption.</p>
<p><strong>Note</strong>: Never share this <code class="docutils literal notranslate"><span class="pre">.pub</span></code> with anyone! It should be kept on your personal computer only.</p>
</section>
<section id="forwardx11">
<h4><code class="docutils literal notranslate"><span class="pre">ForwardX11</span></code><a class="headerlink" href="#forwardx11" title="Permalink to this heading">#</a></h4>
<p>This allows us to have some visual bits and pieces. This is important for matlab GUIs and even GUIs for <code class="docutils literal notranslate"><span class="pre">spyder</span></code>.</p>
</section>
<section id="localforward">
<h4><code class="docutils literal notranslate"><span class="pre">LocalForward</span></code><a class="headerlink" href="#localforward" title="Permalink to this heading">#</a></h4>
<p>This takes care of all of the port forwarding. You can also forward multiple ports if there is a reason, e.g. 1 for tensor board, 1 for JupyterLab, 1 for some visualization software, etc.</p>
</section>
</section>
</section>
<hr class="docutils" />
<section id="remote-server-proxyjump">
<h2>Remote Server + ProxyJump<a class="headerlink" href="#remote-server-proxyjump" title="Permalink to this heading">#</a></h2>
<p>In this case, we will look at the configuration for <code class="docutils literal notranslate"><span class="pre">gricad</span></code> and <code class="docutils literal notranslate"><span class="pre">jeanzay</span></code>. In this case, we have a head node (not really useful except to enter into the server). And then later we <em>proxy jump</em> to the actual head node for computing.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Host<span class="w"> </span>server1
<span class="w">  </span>HostName<span class="w"> </span>base_server
<span class="w">	</span>User<span class="w"> </span>username

Host<span class="w"> </span>server2
<span class="w">  </span>HostName<span class="w"> </span>server
<span class="w">  </span>User<span class="w"> </span>username
<span class="w">  </span>ProxyJump<span class="w"> </span>server1
</pre></div>
</div>
<hr class="docutils" />
<section id="proxyjump">
<h3><code class="docutils literal notranslate"><span class="pre">ProxyJump</span></code><a class="headerlink" href="#proxyjump" title="Permalink to this heading">#</a></h3>
<p>This is the only extra command is the <code class="docutils literal notranslate"><span class="pre">ProxyJump</span></code> command. This allows</p>
</section>
<hr class="docutils" />
<section id="example-gricad">
<h3>Example: <code class="docutils literal notranslate"><span class="pre">Gricad</span></code><a class="headerlink" href="#example-gricad" title="Permalink to this heading">#</a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">gricad</span></code> they have a weird system where they have a <em>entry node</em> which you ssh into. And then you need to ssh into a compute node, e.g. <code class="docutils literal notranslate"><span class="pre">dahu</span></code>, <code class="docutils literal notranslate"><span class="pre">bigfoot</span></code>, etc. So this means we need to <em>proxyjump</em> to <code class="docutils literal notranslate"><span class="pre">dahu</span></code> via <code class="docutils literal notranslate"><span class="pre">entrynode</span></code>.</p>
<p>Below is an example of the <code class="docutils literal notranslate"><span class="pre">.ssh/config</span></code> file with these arguments already in place.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Host<span class="w"> </span>gricad
<span class="w">	</span>User<span class="w"> </span>username
<span class="w">	</span>HostName<span class="w"> </span>access-gricad.univ-grenoble-alpes.fr
<span class="w">	</span>IdentityFile<span class="w"> </span>~/.ssh/id_rsa_gricad

<span class="c1"># DAHU </span>
Host<span class="w"> </span>dahu_gricad
<span class="w">	</span>User<span class="w"> </span>johnsonj
<span class="w">	</span>HostName<span class="w"> </span>dahu
<span class="w">	</span>ProxyJump<span class="w"> </span>gricad
<span class="w">	</span>IdentityFile<span class="w"> </span>~/.ssh/id_rsa_gricad
</pre></div>
</div>
<p><strong>Example Usage</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>dahu_gricad
</pre></div>
</div>
<p>This is <strong>much simpler</strong> than having to do the proxy jumps.</p>
<p>On the <a class="reference external" href="https://gricad-doc.univ-grenoble-alpes.fr/en/hpc/connexion/#4-transparent-ssh-connexion-configuration"><code class="docutils literal notranslate"><span class="pre">gricad</span></code> docs</a> they have a similar command which uses your <code class="docutils literal notranslate"><span class="pre">&lt;pereseus-login&gt;</span></code>. I have included it below for a side-by-side comparison with my version.</p>
<p>It’s apparently <em>transparent</em> but I really don’t understand the <code class="docutils literal notranslate"><span class="pre">ProxyCommand</span></code> they put in place. I think it is much harder to understand compared to my version. I have yet to see any differences in performance from their command and my own.</p>
</section>
<hr class="docutils" />
<section id="example-jeanzay">
<h3>Example: <code class="docutils literal notranslate"><span class="pre">JeanZay</span></code><a class="headerlink" href="#example-jeanzay" title="Permalink to this heading">#</a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">jeanzay</span></code> the permissions are a bit crazy. It doesn’t work to just <code class="docutils literal notranslate"><span class="pre">ssh</span></code> directly to <code class="docutils literal notranslate"><span class="pre">jeanzay</span></code> without some sort of hassle and special permissions with custom ips registered in their system. Instead, it’s much easier to just <code class="docutils literal notranslate"><span class="pre">ssh</span></code> into the <code class="docutils literal notranslate"><span class="pre">cal1</span></code> server. Then we can <code class="docutils literal notranslate"><span class="pre">ssh</span></code> from there into the <code class="docutils literal notranslate"><span class="pre">jeanzay</span></code> server. So this means we need to <em>proxyjump</em> to <code class="docutils literal notranslate"><span class="pre">jeanzay</span></code> via <code class="docutils literal notranslate"><span class="pre">cal1</span></code>.</p>
<p>Below is an example of the <code class="docutils literal notranslate"><span class="pre">.ssh/config</span></code> file with these arguments already in place.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Host<span class="w"> </span>cal1
<span class="w">  </span>HostName<span class="w"> </span>ige-meom-cal1.u-ga.fr
<span class="w">	</span>User<span class="w"> </span>username
<span class="w">	</span>IdentityFile<span class="w"> </span>~/.ssh/id_key_file
<span class="w">	</span>LocalForward<span class="w"> </span><span class="m">8888</span><span class="w"> </span>localhost:8888

<span class="c1"># JEANZAY Head Node</span>
Host<span class="w"> </span>jean_zay
<span class="w">    </span>User<span class="w"> </span>username
<span class="w">    </span>HostName<span class="w"> </span>jean-zay.idris.fr
<span class="w">    </span>ProxyJump<span class="w"> </span>cal1
<span class="w">    </span>IdentityFile<span class="w"> </span>~/.ssh/id_key_file
<span class="w">    </span>LocalForward<span class="w"> </span><span class="m">8880</span><span class="w"> </span>localhost:8880
</pre></div>
</div>
<p><strong>Demo Usage</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>jean_zay
</pre></div>
</div>
<p>As you can see, this allows us to log into <code class="docutils literal notranslate"><span class="pre">jeanzay</span></code> in a much simpler manner.</p>
</section>
<hr class="docutils" />
<section id="internal-ssh-key">
<h3>Internal SSH Key<a class="headerlink" href="#internal-ssh-key" title="Permalink to this heading">#</a></h3>
<p>I would recommend to generate a ssh-key on the proxy server as well. This will be useful for transferring files and mounting drives for the server. Follow the same instructions as above (<code class="docutils literal notranslate"><span class="pre">ssh-keygen</span></code> + <code class="docutils literal notranslate"><span class="pre">ssh-copy-id</span></code>) and generate a <code class="docutils literal notranslate"><span class="pre">.ssh/config</span></code> file similar to the one below.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Host<span class="w"> </span>jean_zay
<span class="w">    </span>User<span class="w"> </span>username
<span class="w">    </span>HostName<span class="w"> </span>jean-zay.idris.fr
<span class="w">    </span>IdentityFile<span class="w"> </span>~/.ssh/id_jz
</pre></div>
</div>
<p><strong>Demo Usage</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ssh into proxy server</span>
ssh<span class="w"> </span>meom_cal1
<span class="c1"># ssh into the other server</span>
ssh<span class="w"> </span>jean_zay
</pre></div>
</div>
<p><strong>Note</strong>: This is the same as <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">jean_zay</span></code> on the local server via the proxy jump.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content/tutorials/remote"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="overview.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Remote Computing</p>
      </div>
    </a>
    <a class="right-next"
       href="conda.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Conda 4 Remote Servers</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#table-of-conents">Table of Conents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ssh">SSH</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identityfile">IdentityFile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#port-forwarding">Port Forwarding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#background-ssh-tunneling">Background SSH Tunneling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#closing-background-ssh-tunnels">Closing Background SSH Tunnels</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-users-bash-script">Advanced Users - Bash Script</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ssh-process-background">SSH Process Background</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#closing-ports">Closing Ports</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ssh-config-file">SSH Config File</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#remote-server-cal1">Remote Server (Cal1)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#important-arguments">Important Arguments</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><code class="docutils literal notranslate"><span class="pre">IdentityFile</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#forwardx11"><code class="docutils literal notranslate"><span class="pre">ForwardX11</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#localforward"><code class="docutils literal notranslate"><span class="pre">LocalForward</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#remote-server-proxyjump">Remote Server + ProxyJump</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proxyjump"><code class="docutils literal notranslate"><span class="pre">ProxyJump</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-gricad">Example: <code class="docutils literal notranslate"><span class="pre">Gricad</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-jeanzay">Example: <code class="docutils literal notranslate"><span class="pre">JeanZay</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#internal-ssh-key">Internal SSH Key</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By J. Emmanuel Johnson
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>